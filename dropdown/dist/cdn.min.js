(()=>{function n(t){t.data("dropdown",(i={})=>{let s={main:{"x-id"(){return["dropdown-aria"]}},trigger:{":aria-expanded"(){return this.isShow},":aria-controls"(){return this.$id("dropdown-aria")},":aria-haspopup"(){return this.role}},menu:{":id"(){return this.$id("dropdown-aria")},":role"(){return this.role}},menuItem:{role:"menuitem"}},l=["menu","listbox","dialog"],a=["placement","offsetX","offsetY","flip","autoPlacement","inline"],r={};return["trigger","menu"].forEach(e=>{i[e]&&(r[e]=i[e],delete i[e])}),{isShow:!1,floating:null,triggerEv:"click",autoClose:!0,hideTimeout:null,placement:"bottom-start",offsetX:0,offsetY:0,flip:!1,autoPlacement:!1,role:"",init(){this.$nextTick(()=>{this.triggerEv=t.bound(this.$el,"data-trigger-event")??this.triggerEv,this.autoClose=JSON.parse(t.bound(this.$el,"data-auto-close")??this.autoClose),this.placement=t.bound(this.$el,"data-placement")??this.placement,this.offsetX=parseInt(t.bound(this.$el,"data-offset-x")??this.offsetX),this.offsetY=parseInt(t.bound(this.$el,"data-offset-y")??this.offsetY),this.flip=JSON.parse(t.bound(this.$el,"data-flip")??this.flip),this.autoPlacement=JSON.parse(t.bound(this.$el,"data-auto-placement")??this.autoPlacement);let e=t.bound(this.$el,"data-role");this.role=l.includes(e)?e:null;let u=a.reduce((d,h)=>({...d,[h]:this[h]}));this.floating=useFloating(this.$refs.trigger||this.$root.querySelector("[x-bind='trigger']"),this.$refs.menu,u);let o={};this.triggerEv==="click"&&(o["@click"]=function(){this.toggle()}),this.triggerEv==="hover"&&(o["@mouseenter"]=function(){this.open()},o["@mouseleave"]=function(){this.close()}),t.bind(this.$refs.trigger||this.$root.querySelector("[x-bind='trigger']"),o)}),t.bind(this.$el,{"@keydown.escape.prevent"(){this.close()}}),t.bind(this.$el,s.main)},scheduleHide(){return setTimeout(()=>{this.floating.destroy(),this.isShow=!1},100)},open(){this.triggerEv==="hover"&&clearTimeout(this.hideTimeout),this.floating.startAutoUpdate(),this.isShow=!0},close(){if(this.isShow){if(this.triggerEv==="hover"){this.hideTimeout=this.scheduleHide();return}this.floating.destroy(),this.isShow=!1}},preventHiding(){this.triggerEv==="hover"&&clearTimeout(this.hideTimeout)},allowHiding(){this.triggerEv==="hover"&&(this.hideTimeout=this.scheduleHide())},toggle(){this.isShow?this.close():this.open()},trigger:{"x-ref":"trigger",...r.trigger,...s.trigger},menu:{"x-show"(){return this.isShow},"x-ref":"menu","@mouseenter"(){this.preventHiding()},"@mouseleave"(){this.allowHiding()},"@click.outside"(){this.close()},"@click"(){this.autoClose&&this.$el.contains(this.$event.target)&&this.close()},...r.menu,...s.menu},menuItem:{...s.menuItem},...i}})}document.addEventListener("alpine:init",()=>{Alpine.plugin(n)});})();
