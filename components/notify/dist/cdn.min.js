(()=>{function o(t){t.data("notify",(n={})=>{let r={role:"status"},a={};return["notification"].forEach(i=>{n[i]&&(a[i]=n[i],delete n[i])}),{notifications:[],notifyId:1e3,order:"default",maxNotifications:0,stickyAt:"end",buffer:[],notificationsSticky:[],delay:1e4,dismissable:!0,static:!1,variant:"info",options:{},init(){this.$nextTick(()=>{this.order=t.bound(this.$el,"data-order")??this.order,this.stickyAt=t.bound(this.$el,"data-sticky-at")??this.stickyAt,this.maxNotifications=parseInt(t.bound(this.$el,"data-max-notifications")??this.maxNotifications),this.delay=parseInt(t.bound(this.$el,"data-delay")??this.delay),this.dismissable=JSON.parse(t.bound(this.$el,"data-dismissable")??this.dismissable),this.static=JSON.parse(t.bound(this.$el,"data-static")??this.static),this.variant=t.bound(this.$el,"data-variant")??this.variant,this.options=t.bound(this.$el,"data-options")??this.options}),t.bind(this.$el,{"@show-notify.window"(){this.push(this.$event.detail)}}),t.bind(this.$el,{"@mouseenter"(){this.handleContainerMouseEnter()},"@mouseleave"(){this.handleContainerMouseLeave()}})},getNotifications(){if(this.order==="default"&&this.stickyAt==="end")return[...this.notifications,...this.notificationsSticky];if(this.order==="default"&&this.stickyAt==="start")return[...this.notificationsSticky,...this.notifications];if(this.order==="reversed"&&this.stickyAt==="end")return[...this.notifications.toReversed(),...this.notificationsSticky.toReversed()];if(this.order==="reversed"&&this.stickyAt==="start")return[...this.notificationsSticky.toReversed(),...this.notifications.toReversed()]},handleContainerMouseEnter(){this.notifications.forEach(i=>{i.pauseTimer()})},handleContainerMouseLeave(){this.notifications.forEach(i=>{i.restartTimer()})},remove(i){i.sticky?this.removeStickyById(i.notifyId):this.removeById(i.notifyId)},removeById(i){let s=this.notifications.findIndex(e=>i===e.notifyId);if(this.notifications.splice(s,1),this.buffer.length){let e=this.buffer.shift();e.restartTimer(),this.notifications.push(e)}},removeStickyById(i){let s=this.notificationsSticky.findIndex(e=>i===e.notifyId);this.notificationsSticky.splice(s,1)},close(){this.notify.isVisible.value=!1},push(i){let s={header:i?.header||"",text:i?.text||"",delay:i?.delay??this.delay,dismissable:i?.dismissable??this.dismissable,static:i?.static??this.static,sticky:i?.sticky??!1,variant:i?.variant??this.variant,options:i?.options??this.options??null,notifyId:this.notifyId,isVisible:t.reactive({value:!1}),timer:null};if(s.restartTimer=function(){if(this.static)return null;this.timer=setTimeout(()=>this.isVisible.value=!1,this.delay)},s.pauseTimer=function(){this.timer&&clearTimeout(this.timer)},this.notifyId++,s.sticky){s.restartTimer(),this.notificationsSticky.push(s);return}if(this.maxNotifications>0&&this.notifications.length>=this.maxNotifications){this.buffer.push(s);return}s.restartTimer(),this.notifications.push(s)},notification:{"x-show"(){return this.notify.isVisible.value},"x-init"(){this.$nextTick(()=>this.notify.isVisible.value=!0),this.$watch("notify.isVisible.value",i=>{i||t.bind(this.$el,{"@transitionend"(){this.remove(this.notify)},"@transitioncancel"(){this.remove(this.notify)}})})},...a.notification,...r.notification},...n}})}document.addEventListener("alpine:init",()=>{Alpine.plugin(o)});})();
