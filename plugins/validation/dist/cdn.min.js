(()=>{var a={required:"This field is required",alpha:"Please enter only letters",numeric:"Please enter only numbers",alphanumeric:"Please enter only letters or numbers",minLength:"Please enter at least %d characters",maxLength:"Please enter up to %d characters",minElements:"Please select at least %d elements",maxElements:"Please select at least %d elements",minValue:"",maxValue:"",email:"Please enter valid email address",atLeastOneUppercase:"Please enter at least one uppercase character",atLeastOneLowercase:"Please enter at least one lowercase character",atLeastOneDigit:"Please enter at least one numeric character",atLeastOneSpecial:"Please enter at least one special character",sameAs:""},g={required:(t,e)=>typeof t=="boolean"?t||a.required:Array.isArray(t)?!!t.length||a.required:!!t&&!!t.trim()||a.required,minLength:(t,e)=>t.length>=e||a.minLength.replace("%d",e),maxLength:(t,e)=>t.length<=e||a.maxLength.replace("%d",e),minElements:(t,e)=>t.length>=e||a.minLength.replace("%d",e),maxElements:(t,e)=>t.length<=e||a.maxLength.replace("%d",e),alpha:t=>/^[a-zA-Z]+$/.test(t)||a.alpha,numeric:t=>/^[0-9]+$/.test(t)||a.numeric,alphanumeric:t=>/^[a-zA-Z0-9]+$/.test(t)||a.alphanumeric,maxValue:(t,e)=>Number(t)<=e||a.maxValue.replace("%d",e),minValue:(t,e)=>Number(t)>=e||a.minValue.replace("%d",e),email:t=>/(?:[a-z0-9!#$%&'*+/=?^_`{|}~-]+(?:\.[a-z0-9!#$%&'*+/=?^_`{|}~-]+)*|"(?:[\x01-\x08\x0b\x0c\x0e-\x1f\x21\x23-\x5b\x5d-\x7f]|\\[\x01-\x09\x0b\x0c\x0e-\x7f])*")@(?:(?:[a-z0-9](?:[a-z0-9-]*[a-z0-9])?\.)+[a-z0-9](?:[a-z0-9-]*[a-z0-9])?|\[(?:(?:(2(5[0-5]|[0-4][0-9])|1[0-9][0-9]|[1-9]?[0-9]))\.){3}(?:(2(5[0-5]|[0-4][0-9])|1[0-9][0-9]|[1-9]?[0-9])|[a-z0-9-]*[a-z0-9]:(?:[\x01-\x08\x0b\x0c\x0e-\x1f\x21-\x5a\x53-\x7f]|\\[\x01-\x09\x0b\x0c\x0e-\x7f])+)\])/.test(t)||a.email,atLeastOneUppercase:t=>/[A-Z]/.test(t)||a.atLeastOneUppercase,atLeastOneLowercase:t=>/[a-z]/.test(t)||a.atLeastOneLowercase,atLeastOneSpecial:t=>/[^a-zA-Z0-9]/.test(t)||a.atLeastOneSpecial,atLeastOneDigit:t=>/[0-9]/.test(t)||a.atLeastOneDigit,sameAs:(t,e)=>t===e||a.sameAs};function $(t,e){let{name:c="input",value:d,dirty:r=!1,touched:f=!1,validated:l=!1,stateChanged:p=!1,rules:L=[],mode:o="blur-silent",messages:b={}}=t,[m,V]=["blur-silent","blur-eager","form-silent","form-eager","immediate-eager"].includes(o)?o.split("-"):["blur","silent"],w=s=>!L.includes("required")&&(s===""||s===!1||Array.isArray(s)&&s.length===0),u=s=>{let i={},n={};return i.valid=L.reduce((z,O)=>{let[x,v]=typeof O=="string"?[O,null]:Object.entries(O)[0],P=typeof v=="function"&&v||g[x];if(!P)return z;i[x]=!1;let y=P(s,v);return y===!0?i[x]=!0:n[x]=b[x]?.replace("%d",v)||y,z&&i[x]},!0),i.optional=w(s),{status:i,messages:n}},h=(s,i)=>{d=i!==void 0?i:d;let n=u(d);f=f||s==="touch",l=l||s==="formValidate",r=r||!!(d&&d.length),n.status={...n.status,touched:f,validated:l,dirty:r},n.state=N(n.status),p=p||n.state!=="",e(n)},N=s=>{let{optional:i,valid:n}=s;return i||!r&&!f&&!l||m==="form"&&!l||m==="blur"&&!f&&!l?"":n?V==="eager"||p?"valid":"":"invalid"};return{name:c,touch:()=>h("touch"),formValidate:()=>h("formValidate"),updateValue:s=>h("valueUpdate",s),reset:()=>{r=!1,f=!1,l=!1,p=!1,e({status:{},messages:{},state:""})}}}function q(t){t.data("form",()=>({formName:"",inputs:{},valid:!1,init(){this.formName=t.bound(this.$el,"data-form-name")},addInput(e){this.inputs[e.name]=e},removeInput(e){delete this.inputs[e]},validateForm(){this.valid=!0;for(let e in this.inputs){this.inputs[e].formValidate();let{status:c}=this.inputs[e];this.valid=this.valid&&(c.valid||c.optional)}}})),t.directive("validation",(e,{value:c,expression:d},{Alpine:r,evaluateLater:f,cleanup:l})=>{let p=r.$data(e).validateValue;if(!p)return;let L=JSON.parse(d),o=c??r.bound(e,"name")??"",b=f(p);if(r.$data(e).formName===void 0)return;let m=$({...L},u=>{r.$data(e).inputs[o].status=u.status,r.$data(e).inputs[o].messages=u.messages,r.$data(e).inputs[o].state=u.state});r.$data(e).addInput({name:o,status:{},messages:{},state:"",formValidate:m.formValidate,reset:m.reset});let V=()=>{let u;return b(h=>u=h),u};m.updateValue(V());let w=r.watch(V,u=>{m.updateValue(u)});r.addScopeToNode(e,{touch:m.touch,reset:m.reset,validation:r.$data(e).inputs[o]}),l(w),l(()=>r.$data(e).removeInput(o))}),t.magic("validation",(e,{Alpine:c})=>d=>c.$data(e).inputs[d])}document.addEventListener("alpine:init",()=>{Alpine.plugin(q),window.Litewind||(window.Litewind={}),window.Litewind.validationMessages=a,window.Litewind.globalValidators=g});})();
