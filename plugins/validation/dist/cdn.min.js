(()=>{var a={required:"This field is required",alpha:"Please enter only letters",numeric:"Please enter only numbers",alphanumeric:"Please enter only letters or numbers",minLength:"Please enter at least %d characters",maxLength:"Please enter up to %d characters",minElements:"Please select at least %d elements",maxElements:"Please select at least %d elements",minValue:"",maxValue:"",email:"Please enter valid email address",atLeastOneUppercase:"Please enter at least one uppercase character",atLeastOneLowercase:"Please enter at least one lowercase character",atLeastOneDigit:"Please enter at least one numeric character",atLeastOneSpecial:"Please enter at least one special character",sameAs:""},y={required:(t,e)=>typeof t=="boolean"?t||a.required:Array.isArray(t)?!!t.length||a.required:!!t&&!!t.trim()||a.required,minLength:(t,e)=>t.length>=e||a.minLength.replace("%d",e),maxLength:(t,e)=>t.length<=e||a.maxLength.replace("%d",e),minElements:(t,e)=>t.length>=e||a.minLength.replace("%d",e),maxElements:(t,e)=>t.length<=e||a.maxLength.replace("%d",e),alpha:t=>/^[a-zA-Z]+$/.test(t)||a.alpha,numeric:t=>/^[0-9]+$/.test(t)||a.numeric,alphanumeric:t=>/^[a-zA-Z0-9]+$/.test(t)||a.alphanumeric,maxValue:(t,e)=>Number(t)<=e||a.maxValue.replace("%d",e),minValue:(t,e)=>Number(t)>=e||a.minValue.replace("%d",e),email:t=>/(?:[a-z0-9!#$%&'*+/=?^_`{|}~-]+(?:\.[a-z0-9!#$%&'*+/=?^_`{|}~-]+)*|"(?:[\x01-\x08\x0b\x0c\x0e-\x1f\x21\x23-\x5b\x5d-\x7f]|\\[\x01-\x09\x0b\x0c\x0e-\x7f])*")@(?:(?:[a-z0-9](?:[a-z0-9-]*[a-z0-9])?\.)+[a-z0-9](?:[a-z0-9-]*[a-z0-9])?|\[(?:(?:(2(5[0-5]|[0-4][0-9])|1[0-9][0-9]|[1-9]?[0-9]))\.){3}(?:(2(5[0-5]|[0-4][0-9])|1[0-9][0-9]|[1-9]?[0-9])|[a-z0-9-]*[a-z0-9]:(?:[\x01-\x08\x0b\x0c\x0e-\x1f\x21-\x5a\x53-\x7f]|\\[\x01-\x09\x0b\x0c\x0e-\x7f])+)\])/.test(t)||a.email,atLeastOneUppercase:t=>/[A-Z]/.test(t)||a.atLeastOneUppercase,atLeastOneLowercase:t=>/[a-z]/.test(t)||a.atLeastOneLowercase,atLeastOneSpecial:t=>/[^a-zA-Z0-9]/.test(t)||a.atLeastOneSpecial,atLeastOneDigit:t=>/[0-9]/.test(t)||a.atLeastOneDigit,sameAs:(t,e)=>t===e||a.sameAs};function $(t,e){let{name:m="input",value:d,dirty:r=!1,touched:c=!1,validated:l=!1,stateChanged:f=!1,rules:g=[],mode:o="blur-silent",messages:V={}}=t,[p,L]=["blur-silent","blur-eager","form-silent","form-eager","immediate-eager"].includes(o)?o.split("-"):["blur","silent"],b=s=>!g.includes("required")&&(s===""||s===!1||Array.isArray(s)&&s.length===0),u=s=>{let n={},i={};return n.valid=g.reduce((z,O)=>{let[x,v]=typeof O=="string"?[O,null]:Object.entries(O)[0],w=typeof v=="function"&&v||y[x];if(!w)return z;n[x]=!1;let P=w(s,v);return P===!0?n[x]=!0:i[x]=V[x]?.replace("%d",v)||P,z&&n[x]},!0),n.optional=b(s),{status:n,messages:i}},h=(s,n)=>{d=n!==void 0?n:d;let i=u(d);c=c||s==="touch",l=l||s==="formValidate",r=r||!!(d&&d.length),i.status={...i.status,touched:c,validated:l,dirty:r},i.state=N(i.status),f=f||i.state!=="",e(i)},N=s=>{let{optional:n,valid:i}=s;return n||!r&&!c&&!l||p==="form"&&!l||p==="blur"&&!c&&!l?"":i?L==="eager"||f?"valid":"":"invalid"};return{name:m,touch:()=>h("touch"),formValidate:()=>h("formValidate"),updateValue:s=>h("valueUpdate",s),reset:()=>{r=!1,c=!1,l=!1,f=!1,e({status:{},messages:{},state:""})}}}function q(t){t.data("form",()=>({formName:"",inputs:{},valid:!1,init(){this.formName=t.bound(this.$el,"data-form-name")},addInput(e){this.inputs[e.name]=e},removeInput(e){delete this.inputs[e]},validate(){this.valid=!0;for(let e in this.inputs){this.inputs[e].formValidate();let{status:m}=this.inputs[e];this.valid=this.valid&&(m.valid||m.optional)}}})),t.directive("validation",(e,{value:m,expression:d},{Alpine:r,evaluateLater:c,cleanup:l})=>{let f=r.$data(e).validateValue;if(!f)return;let g=JSON.parse(d),o=m??r.bound(e,"name")??"",V=c(f);if(r.$data(e).formName===void 0)return;let p=$({...g},u=>{r.$data(e).inputs[o].status=u.status,r.$data(e).inputs[o].messages=u.messages,r.$data(e).inputs[o].state=u.state});r.$data(e).addInput({name:o,status:{},messages:{},state:"",formValidate:p.formValidate});let L=()=>{let u;return V(h=>u=h),u};p.updateValue(L());let b=r.watch(L,u=>{p.updateValue(u)});r.addScopeToNode(e,{touch:p.touch,validation:r.$data(e).inputs[o]}),l(b),l(()=>r.$data(e).removeInput(o))}),t.magic("validation",(e,{Alpine:m})=>d=>m.$data(e).inputs[d])}document.addEventListener("alpine:init",()=>{Alpine.plugin(q),window.Litewind={},window.Litewind.validationMessages=a});})();
