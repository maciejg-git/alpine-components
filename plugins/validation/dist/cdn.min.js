(()=>{var r={required:"This field is required",alpha:"Please enter only letters",numeric:"Please enter only numbers",alphanumeric:"Please enter only letters or numbers",minLength:"Please enter at least %d characters",maxLength:"Please enter up to %d characters",minElements:"Please select at least %d elements",maxElements:"Please select at least %d elements",minValue:"",maxValue:"",email:"Please enter valid email address",atLeastOneUppercase:"Please enter at least one uppercase character",atLeastOneLowercase:"Please enter at least one lowercase character",atLeastOneDigit:"Please enter at least one numeric character",atLeastOneSpecial:"Please enter at least one special character",sameAs:""},N={required:(e,t)=>typeof e=="boolean"?e:Array.isArray(e)?!!e.length||r.required:!!e&&!!e.trim()||r.required,minLength:(e,t)=>e.length>=t||r.minLength.replace("%d",t),maxLength:(e,t)=>e.length<=t||r.maxLength.replace("%d",t),minElements:(e,t)=>e.length>=t||r.minLength.replace("%d",t),maxElements:(e,t)=>e.length<=t||r.maxLength.replace("%d",t),alpha:e=>/^[a-zA-Z]+$/.test(e)||r.alpha,numeric:e=>/^[0-9]+$/.test(e)||r.numeric,alphanumeric:e=>/^[a-zA-Z0-9]+$/.test(e)||r.alphanumeric,maxValue:(e,t)=>Number(e)<=t||r.maxValue.replace("%d",t),minValue:(e,t)=>Number(e)>=t||r.minValue.replace("%d",t),email:e=>/(?:[a-z0-9!#$%&'*+/=?^_`{|}~-]+(?:\.[a-z0-9!#$%&'*+/=?^_`{|}~-]+)*|"(?:[\x01-\x08\x0b\x0c\x0e-\x1f\x21\x23-\x5b\x5d-\x7f]|\\[\x01-\x09\x0b\x0c\x0e-\x7f])*")@(?:(?:[a-z0-9](?:[a-z0-9-]*[a-z0-9])?\.)+[a-z0-9](?:[a-z0-9-]*[a-z0-9])?|\[(?:(?:(2(5[0-5]|[0-4][0-9])|1[0-9][0-9]|[1-9]?[0-9]))\.){3}(?:(2(5[0-5]|[0-4][0-9])|1[0-9][0-9]|[1-9]?[0-9])|[a-z0-9-]*[a-z0-9]:(?:[\x01-\x08\x0b\x0c\x0e-\x1f\x21-\x5a\x53-\x7f]|\\[\x01-\x09\x0b\x0c\x0e-\x7f])+)\])/.test(e)||r.email,atLeastOneUppercase:e=>/[A-Z]/.test(e)||r.atLeastOneUppercase,atLeastOneLowercase:e=>/[a-z]/.test(e)||r.atLeastOneLowercase,atLeastOneSpecial:e=>/[^a-zA-Z0-9]/.test(e)||r.atLeastOneSpecial,atLeastOneDigit:e=>/[0-9]/.test(e)||r.atLeastOneDigit,sameAs:(e,t)=>e===t||r.sameAs};function v(e,t){let{name:f="input",value:d,dirty:a=!1,touched:o=!1,validated:u=!1,stateChanged:c=!1,rules:h=[],mode:m="blur-silent"}=e,[g,p]=["blur-silent","blur-eager","form-silent","form-eager","immediate-eager"].includes(m)?m.split("-"):["blur","silent"],L=s=>!h.includes("required")&&(s===""||s===!1||Array.isArray(s)&&s.length===0),b=s=>{let l={},i={};return l.valid=h.reduce((z,O)=>{let[x,$]=typeof O=="string"?[O,null]:Object.entries(O)[0],P=typeof $=="function"&&$||N[x];if(!P)return z;l[x]=!1;let y=P(s,$);return y===!0?l[x]=!0:i[x]=y,z&&l[x]},!0),l.optional=L(s),{status:l,messages:i}},n=(s,l)=>{d=l!==void 0?l:d;let i=b(d);o=o||s==="touch",u=u||s==="formValidate",a=a||!!(d&&d.length),i.status={...i.status,touched:o,validated:u,dirty:a},i.state=V(i.status),c=c||i.state!=="",t(i)},V=s=>{let{optional:l,valid:i}=s;return l||!a&&!o&&!u||g==="form"&&!u||g==="blur"&&!o&&!u?"":i?p==="eager"||c?"valid":"":"invalid"};return{name:f,touch:()=>n("touch"),formValidate:()=>n("formValidate"),updateValue:s=>n("valueUpdate",s),reset:()=>{a=!1,o=!1,u=!1,c=!1,t({status:{},messages:{},state:""})}}}function q(e){e.data("form",()=>({formName:"",inputs:{},init(){this.formName=e.bound(this.$el,"data-form-name")},addInput(t){this.inputs[t.name]=t},removeInput(t){delete this.inputs[t]}})),e.directive("validation",(t,{value:f,expression:d},{Alpine:a,evaluateLater:o,cleanup:u})=>{let c=a.$data(t).validateValue;if(!c)return;let h=JSON.parse(d),m=f??a.bound(t,"name")??"",g=o(c);if(a.$data(t).formName===void 0)return;a.$data(t).addInput({name:m,status:{},messages:{},state:""});let p=v({...h},n=>{a.$data(t).inputs[m].status=n.status,a.$data(t).inputs[m].messages=n.messages,a.$data(t).inputs[m].state=n.state}),L=()=>{let n;return g(V=>n=V),n};p.updateValue(L());let b=a.watch(L,n=>{p.updateValue(n)});a.addScopeToNode(t,{touch:p.touch,validation:a.$data(t).inputs[m]}),u(b),u(()=>a.$data(t).removeInput(m))}),e.magic("validation",(t,{Alpine:f})=>d=>f.$data(t).inputs[d])}document.addEventListener("alpine:init",()=>{Alpine.plugin(q)});})();
