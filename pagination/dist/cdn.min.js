(()=>{function g(i){i.data("pagination",(s={})=>{let r={main:{"aria-label":"Pagination"},pageButton:{":aria-current"(){return this.isSelected()?"page":!1}},prevButton:{"aria-label":"Previous"},nextButton:{"aria-label":"Next"}},l=(t,e,n)=>t<e?e:t>=n?n:t,h=(t,e)=>Array.from({length:e},(n,a)=>a+t),u={};return["prevButton","nextButton","pageButton"].forEach(t=>{s[t]&&(u[t]=s[t],delete s[t])}),{currentPage:1,itemsCount:0,itemsPerPage:10,maxPages:7,init(){this.$nextTick(()=>{i.effect(()=>{this.itemsCount=parseInt(i.bound(this.$el,"data-items-count")??this.itemsCount)}),i.effect(()=>{this.itemsPerPage=parseInt(i.bound(this.$el,"data-items-per-page")??this.itemsPerPage)}),i.effect(()=>{this.maxPages=parseInt(i.bound(this.$el,"data-max-pages")??this.maxPages)})}),i.bind(this.$el,{"x-modelable":"currentPage"}),i.bind(this.$el,r.main)},getPagesCount(){return this.itemsPerPage<=0||this.itemsCount<=0?1:Math.ceil(this.itemsCount/this.itemsPerPage)},getMaxPagesCount(){return Math.min(this.getPagesCount(),Math.max(this.maxPages,3))},getPages(){let t=this.getMaxPagesCount(),e=this.currentPage-Math.ceil(t/2)+1,n=this.getPagesCount();e=l(e,1,n-t+1);let a=h(e,t);return t>=5&&(a[0]!=1&&(a[0]=1,a[1]="..."),a[a.length-1]!=n&&(a[a.length-1]=n,a[a.length-2]="...")),a},isSelected(){return this.currentPage===this.page},handleClickPrev(){let t=this.currentPage-1;this.currentPage=t<=1?1:t},handleClickNext(){let t=this.currentPage+1,e=this.getPagesCount();this.currentPage=t>=e?e:t},handleClickPage(){this.page!=="..."&&(this.currentPage=this.page)},prevButton:{"@click"(){this.handleClickPrev()},...u.prevButton,...r.prevButton},nextButton:{"@click"(){this.handleClickNext()},...u.nextButton,...r.nextButton},pageButton:{"@click"(){this.handleClickPage()},":class"(){let t=this.$el.attributes,e="";return this.isSelected()?e=t["class-selected"]?.textContent||"":e=t["class-default"]?.textContent||"",e},...u.pageButton,...r.pageButton},...s}})}document.addEventListener("alpine:init",()=>{Alpine.plugin(g)});})();
